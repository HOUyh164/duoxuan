<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DORA 管理後台</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- 登入頁面 -->
    <div id="login-page" class="page">
        <div class="login-container">
            <div class="login-header">
                <h1>DORA</h1>
                <p>管理後台</p>
            </div>
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label for="email">電子郵件</label>
                    <input type="email" id="email" name="email" required placeholder="admin@example.com">
                </div>
                <div class="form-group">
                    <label for="password">密碼</label>
                    <input type="password" id="password" name="password" required placeholder="輸入密碼">
                </div>
                <button type="submit" class="btn btn-primary">登入</button>
                <p class="error-message" id="login-error"></p>
            </form>
        </div>
    </div>

    <!-- 管理面板 -->
    <div id="admin-panel" class="page hidden">
        <!-- 側邊欄 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>DORA</h2>
                <span>管理後台</span>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <span>儀表板</span>
                </a>
                <a href="#" class="nav-item" data-page="cards">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="16" rx="2"></rect>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <span>卡密管理</span>
                </a>
                <a href="#" class="nav-item" data-page="orders">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                    </svg>
                    <span>訂單管理</span>
                </a>
                <a href="#" class="nav-item" data-page="users">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    <span>用戶管理</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn" class="btn btn-secondary">登出</button>
            </div>
        </aside>

        <!-- 主內容區 -->
        <main class="main-content">
            <!-- 頂部欄 -->
            <header class="top-bar">
                <h1 id="page-title">儀表板</h1>
                <div class="user-info">
                    <span id="user-email">admin@example.com</span>
                </div>
            </header>

            <!-- 儀表板頁面 -->
            <section id="dashboard-page" class="content-page">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon users">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-users">0</span>
                            <span class="stat-label">總用戶數</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orders">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-orders">0</span>
                            <span class="stat-label">總訂單數</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon cards">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="16" rx="2"></rect>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-cards">0</span>
                            <span class="stat-label">可用卡密</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-revenue">NT$ 0</span>
                            <span class="stat-label">總收入</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card recent-orders">
                        <h3>最近訂單</h3>
                        <table id="recent-orders-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>用戶</th>
                                    <th>方案</th>
                                    <th>金額</th>
                                    <th>狀態</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 動態載入 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- 卡密管理頁面 -->
            <section id="cards-page" class="content-page hidden">
                <div class="page-header">
                    <h2>卡密管理</h2>
                    <button id="upload-cards-btn" class="btn btn-primary">上傳卡密</button>
                </div>

                <!-- 上傳卡密彈窗 -->
                <div id="upload-modal" class="modal hidden">
                    <div class="modal-content">
                        <h3>上傳卡密</h3>
                        <form id="upload-form">
                            <div class="form-group">
                                <label for="plan-type">方案類型</label>
                                <select id="plan-type" name="planType" required>
                                    <option value="day">天卡</option>
                                    <option value="week">周卡</option>
                                    <option value="month">月卡</option>
                                    <option value="lifetime">永久卡</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="card-keys">卡密列表（每行一個）</label>
                                <textarea id="card-keys" name="cardKeys" rows="10" required placeholder="每行輸入一個卡密&#10;例如：&#10;KEY-001-ABC&#10;KEY-002-DEF&#10;KEY-003-GHI"></textarea>
                            </div>
                            <div class="modal-actions">
                                <button type="button" class="btn btn-secondary" id="cancel-upload">取消</button>
                                <button type="submit" class="btn btn-primary">上傳</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="filters">
                    <select id="filter-card-status">
                        <option value="">全部狀態</option>
                        <option value="unused">未使用</option>
                        <option value="used">已使用</option>
                        <option value="expired">已過期</option>
                    </select>
                    <select id="filter-card-plan">
                        <option value="">全部方案</option>
                        <option value="day">天卡</option>
                        <option value="week">周卡</option>
                        <option value="month">月卡</option>
                        <option value="lifetime">永久卡</option>
                    </select>
                </div>

                <div class="table-container">
                    <table id="cards-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>卡密</th>
                                <th>方案</th>
                                <th>狀態</th>
                                <th>建立時間</th>
                                <th>使用時間</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 動態載入 -->
                        </tbody>
                    </table>
                </div>
                <div id="cards-pagination" class="pagination"></div>
            </section>

            <!-- 訂單管理頁面 -->
            <section id="orders-page" class="content-page hidden">
                <div class="page-header">
                    <h2>訂單管理</h2>
                </div>

                <div class="table-container">
                    <table id="orders-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>用戶</th>
                                <th>方案</th>
                                <th>金額</th>
                                <th>狀態</th>
                                <th>建立時間</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 動態載入 -->
                        </tbody>
                    </table>
                </div>
                <div id="orders-pagination" class="pagination"></div>
            </section>

            <!-- 用戶管理頁面 -->
            <section id="users-page" class="content-page hidden">
                <div class="page-header">
                    <h2>用戶管理</h2>
                </div>

                <div class="filters">
                    <input type="text" id="search-user" placeholder="搜尋郵箱...">
                </div>

                <div class="table-container">
                    <table id="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>郵箱</th>
                                <th>角色</th>
                                <th>訂單數</th>
                                <th>註冊時間</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 動態載入 -->
                        </tbody>
                    </table>
                </div>
                <div id="users-pagination" class="pagination"></div>
            </section>
        </main>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>


